---
import HeroText from '~/components/widgets/HeroText.astro';
import Layout from '~/layouts/PageLayout.astro';
import { Icon } from 'astro-icon/components';

const metadata = {
  title: 'Stellar Pricing for Every Journey', // Updated title from the second code snippet
};

const competitionTypes = [
  { title: "Written", color: "bg-blue-200", content: "Written competition details..." },
  { title: "Role Play", color: "bg-green-200", content: "Role play competition details..." },
  { title: "Presentation", color: "bg-yellow-200", content: "Presentation competition details..." }
];

const faqRows = [
  { question: "What is DECA?", answer: "DECA is..." },
  { question: "Who can join DECA?", answer: "DECA membership is..." },
  { question: "What are the benefits of DECA?", answer: "DECA offers..." },
  { question: "How do I prepare for DECA competitions?", answer: "To prepare for DECA competitions..." },
  { question: "What career paths does DECA support?", answer: "DECA supports various career paths including..." }
];
---

<Layout metadata={metadata}>
  
  <HeroText
  tagline={<span class="bg-gradient-title">DECA 101</span>}  
  title="What is DECA?"
  subtitle="DECA is an organization that prepares emerging leaders and entrepreneurs in marketing, finance, hospitality, and management. [More filler text...]"
/>

  <div class="container mx-auto px-4">

    <p class="mb-8"></p>

    <div class="mb-8">
      <div class="tabs">
        <ul>
          <li><a href="#regional">Regional</a></li>
          <li><a href="#state">State</a></li>
          <li><a href="#international">International</a></li>
        </ul>
      </div>
      <div id="regional" class="tab-content">
        Regional competition information goes here...
      </div>
      <div id="state" class="tab-content hidden">
        State competition information goes here...
      </div>
      <div id="international" class="tab-content hidden">
        International competition information goes here...
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
      {competitionTypes.map((type) => (
        <div class={`p-4 ${type.color}`}>
          <h3 class="text-xl font-bold mb-2">{type.title}</h3>
          <p>{type.content}</p>
        </div>
      ))}
    </div>

    <div class="faq-section">
      {faqRows.map((row, index) => (
        <div class="mb-2">
          <button class="faq-question w-full text-left p-4 bg-gray-200 hover:bg-gray-300 flex justify-between items-center">
            {row.question}
            <Icon name="tabler:chevron-down" class="w-5 h-5" />
          </button>
          <div class="faq-answer p-4 bg-gray-100 hidden">
            {row.answer}
          </div>
        </div>
      ))}
    </div>
  </div>
</Layout>

<style>
  .tab-content {
    padding: 1rem;
    background-color: #f3f4f6;
  }
  .hidden {
    display: none;
  }
</style>

<script>
  // Tab functionality
  const tabs = document.querySelectorAll('.tabs a');
  const tabContents = document.querySelectorAll('.tab-content');

  tabs.forEach(tab => {
    tab.addEventListener('click', (e) => {
      e.preventDefault();
      const target = e.target.getAttribute('href').substring(1);
      
      tabContents.forEach(content => {
        content.classList.add('hidden');
      });
      
      document.getElementById(target).classList.remove('hidden');
    });
  });

  // FAQ functionality
  const faqQuestions = document.querySelectorAll('.faq-question');

  faqQuestions.forEach(question => {
    question.addEventListener('click', () => {
      const answer = question.nextElementSibling;
      const icon = question.querySelector('svg');
      
      answer.classList.toggle('hidden');
      icon.style.transform = answer.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
    });
  });
</script>
